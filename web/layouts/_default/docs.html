{{ define "main" }}
  <div class="docs-layout">
    <!-- Sidebar -->
    <aside class="docs-sidebar">
      <nav class="docs-nav">
        <h3>Documentation</h3>
        <ul>
          {{ $docsSection := .Site.GetPage "docs" }}
          {{ range $docsSection.Pages.ByWeight }}
          <li>
            <a href="{{ .Permalink }}" {{ if eq $.RelPermalink .RelPermalink }}class="active"{{ end }}>
              {{ .Title }}
            </a>
          </li>
          {{ end }}
        </ul>
      </nav>
    </aside>

    <!-- Content -->
    <main class="docs-content">
      <div class="docs-container">
        {{ if eq .RelPermalink "/docs/" }}
          <!-- Docs Index -->
          <h1>Documentation</h1>
          <p class="lead">Learn how to use Bolt21, from getting started to advanced features.</p>

          <div class="docs-cards">
            {{ $docsSection := .Site.GetPage "docs" }}
            {{ range $docsSection.Pages.ByWeight }}
            <a href="{{ .Permalink }}" class="docs-card">
              <h3>{{ .Title }}</h3>
              <p>{{ .Description }}</p>
            </a>
            {{ end }}
          </div>
        {{ else }}
          <!-- Individual Doc -->
          <article class="doc-article">
            {{ .Content }}
          </article>

          <!-- Nav -->
          <div class="docs-nav-bottom">
            {{ with .PrevInSection }}
            <a href="{{ .Permalink }}" class="nav-prev">
              <span>Previous</span>
              <strong>{{ .Title }}</strong>
            </a>
            {{ end }}
            {{ with .NextInSection }}
            <a href="{{ .Permalink }}" class="nav-next">
              <span>Next</span>
              <strong>{{ .Title }}</strong>
            </a>
            {{ end }}
          </div>
        {{ end }}
      </div>
    </main>
  </div>
{{ end }}
